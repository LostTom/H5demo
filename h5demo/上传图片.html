<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<style>
		</style>
	</head>
	<body>
		<!-- <form method="post" enctype="multipart/form-data" id="file_upload"> -->
		<div style="height: 40px;width: 80px;position: relative;">
			　<input type="file" id="test-image-file" name="test" accept="mp4,image/gif, image/jpeg, image/png, image/jpg">
		</div>

		<p style="display: block;" id="test-file-info"></p>
		<!-- </form> -->
		<script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>

		<script type="text/javascript">
			var fileInput = document.getElementById('test-image-file');
			var info = document.getElementById('test-file-info');
			// 监听change事件:
			fileInput.addEventListener('change', function() {
				// 检查文件是否选择:
				if (!fileInput.value) {
					info.innerHTML = '没有选择文件';
					return;
				}
				// 获取File引用:
				var file = fileInput.files[0];
				//判断文件大小
				var size = file.size;
				if (size >= 1 * 1024 * 1024) {
					alert('文件大于1兆不行!');
					return false;
				}
				// 获取File信息:
				// info.innerHTML =
					if (file.type !== 'image/jpeg' && file.type !== 'image/png' && file.type !== 'image/gif' && file.type !== 'mp4') {
						alert('不是有效的图片文件!');
						return;
					};
			});
		</script>
	</body>
</html>
